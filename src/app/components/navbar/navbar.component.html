<nav
  class="navbar navbar-expand-lg bg-body-tertiary"
  data-bs-theme="dark"
  id="top"
>
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Joe-Store</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <!-- <button class="btn">
        <img
          class="dropdown-icons"
          src="../../../assets/images/216477_shopping_cart_icon (1).png"
          alt=""
        />
        <div class="cart-counter bg-danger">
          {{ cartItemsCount }}
        </div>
      </button> -->
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            style="display: flex; flex-direction: row; align-items: center"
          >
            <!-- <img
              src="../../../assets/images/5402435_account_profile_user_avatar_man_icon.png"
              alt=""
            /> -->

            <button class="btn">
              <img
                class="dropdown-icons"
                src="../../../assets/images/216477_shopping_cart_icon (1).png"
                alt=""
              />
              <div
                class="cart-counter bg-danger"
                [ngStyle]="{ display: !loggedIn ? 'none' : '' }"
                [ngStyle]="{ display: disableCart ? 'none' : '' }"
              >
                {{ cartItemsCount }}
              </div>
            </button>
            <!-- {{ username }} -->
          </a>
          <ul
            class="dropdown-menu"
            style="width: 300px"
            [ngStyle]="{ display: !loggedIn ? 'none' : '' }"
            [ngStyle]="{ display: disableCart ? 'none' : '' }"
          >
            <li *ngFor="let shoppingItem of localCartItemsList">
              <!-- <a class="dropdown-item" href="#"></a> -->
              <app-drop-down-card
                [individualShoppingItem]="shoppingItem"
              ></app-drop-down-card>
              <!-- <app-drop-down-card></app-drop-down-card>
              <button class="btn"></button> -->
            </li>
            <a
              class="dropdown-item"
              href="#"
              [routerLink]="[
                '/checkout/' + checkoutTotal + '/' + cartItemsCount
              ]"
              >Checkout =
              <span style="vertical-align: super; font-size: smaller">$</span>
              {{ checkoutTotal }}</a
            >
            <!-- <li style="display: flex; flex-direction: row">
              <button class="btn">
                <img
                  class="dropdown-icons"
                  src="../../../assets/images/216477_shopping_cart_icon (1).png"
                  alt=""
                />
                <div
                  class="cart-counter bg-danger"
                  style="width: 30px; margin: 0; font-size: xx-small"
                >
                  {{ cartItemsCount }}
                </div>
                <a class="dropdown-item" href="#" style="padding-left: 0"
                  >Cart</a
                >
              </button>
            </li> -->
            <!-- <li *ngIf="!loggedIn; else logOutLi">
              <button class="btn" (click)="login()">
                <img
                  class="dropdown-icons"
                  src="../../../assets/images/4115234_login_sign in_icon.png"
                  alt=""
                />
                <a class="dropdown-item" href="#">Login</a>
              </button>
            </li>
            <ng-template #logOutLi>
              <li>
                <button class="btn" (click)="logOut()">
                  <img
                    class="dropdown-icons"
                    src="../../../assets/images/4115235_exit_logout_sign out_icon.png"
                    alt=""
                  />
                  <a class="dropdown-item" href="#">Logout</a>
                </button>
              </li>
            </ng-template> -->
          </ul>
        </li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <!-- <img
              src="../../../assets/images/5402435_account_profile_user_avatar_man_icon.png"
              alt=""
            /> -->

            <img src="{{ userImage }}" alt="" />
            Hello, {{ username }}
          </a>
          <ul class="dropdown-menu">
            <li>
              <button class="btn">
                <img
                  class="dropdown-icons"
                  src="../../../assets/images/5402435_account_profile_user_avatar_man_icon.png"
                  alt=""
                />
                <a class="dropdown-item" href="#">Profile</a>
              </button>
            </li>
            <!-- <li style="display: flex; flex-direction: row">
              <button class="btn">
                <img
                  class="dropdown-icons"
                  src="../../../assets/images/216477_shopping_cart_icon (1).png"
                  alt=""
                />
                <div
                  class="cart-counter bg-danger"
                  style="width: 30px; margin: 0; font-size: xx-small"
                >
                  {{ cartItemsCount }}
                </div>
                <a class="dropdown-item" href="#" style="padding-left: 0"
                  >Cart</a
                >
              </button>
            </li> -->
            <li *ngIf="!loggedIn; else logOutLi">
              <button class="btn" (click)="login()">
                <img
                  class="dropdown-icons"
                  src="../../../assets/images/4115234_login_sign in_icon.png"
                  alt=""
                />
                <a class="dropdown-item" href="#">Login</a>
              </button>
            </li>
            <ng-template #logOutLi>
              <li>
                <button class="btn" (click)="logOut()">
                  <img
                    class="dropdown-icons"
                    src="../../../assets/images/4115235_exit_logout_sign out_icon.png"
                    alt=""
                  />
                  <a class="dropdown-item" href="#">Logout</a>
                </button>
              </li>
            </ng-template>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
